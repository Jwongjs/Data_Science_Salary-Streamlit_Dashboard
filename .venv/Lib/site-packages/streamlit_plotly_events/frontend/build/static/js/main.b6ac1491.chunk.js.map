{"version":3,"sources":["StreamlitPlotlyEventsComponent.tsx","index.tsx"],"names":["StreamlitPlotlyEventsComponent","render","plot_obj","JSON","parse","props","args","override_height","Streamlit","setFrameHeight","style","className","data","layout","onClick","plotlyEventHandler","clickedPoints","points","forEach","arrayItem","push","x","y","curveNumber","pointNumber","pointIndex","setComponentValue","stringify","StreamlitComponentBase","withStreamlitConnection","ReactDOM","StrictMode","document","getElementById"],"mappings":"0QAQMA,E,4MACGC,OAAS,WAEd,IAAMC,EAAWC,KAAKC,MAAM,EAAKC,MAAMC,KAAX,UACtBC,EAAkB,EAAKF,MAAMC,KAAX,gBAGxB,OADAE,IAAUC,eAAeF,GAEvB,yBACCG,MAAO,CAAC,OAAUH,GAClBI,UAAU,iBAET,kBAAC,IAAD,CACEC,KAAMV,EAASU,KACfC,OAAQX,EAASW,OACjBC,QAAS,EAAKC,uB,EAOdA,mBAAqB,SAACH,GAE5B,IAAII,EAA4B,GAChCJ,EAAKK,OAAOC,SAAQ,SAAUC,GAC5BH,EAAcI,KAAK,CACjBC,EAAGF,EAAUE,EACbC,EAAGH,EAAUG,EACbC,YAAaJ,EAAUI,YACvBC,YAAaL,EAAUK,YACvBC,WAAYN,EAAUM,gBAK1BjB,IAAUkB,kBAAkBvB,KAAKwB,UAAUX,K,YApCFY,KAwC9BC,cAAwB7B,GC5CvC8B,IAAS7B,OACP,kBAAC,IAAM8B,WAAP,KACE,kBAAC,EAAD,OAEFC,SAASC,eAAe,W","file":"static/js/main.b6ac1491.chunk.js","sourcesContent":["import {\r\n  Streamlit,\r\n  StreamlitComponentBase,\r\n  withStreamlitConnection,\r\n} from \"streamlit-component-lib\"\r\nimport React, { ReactNode } from \"react\"\r\nimport Plot from 'react-plotly.js';\r\n\r\nclass StreamlitPlotlyEventsComponent extends StreamlitComponentBase {\r\n  public render = (): ReactNode => {\r\n    // Pull Plotly object from args and parse\r\n    const plot_obj = JSON.parse(this.props.args[\"plot_obj\"])\r\n    const override_height = this.props.args[\"override_height\"]\r\n\r\n    Streamlit.setFrameHeight(override_height)\r\n    return (\r\n      <div\r\n       style={{\"height\": override_height}}\r\n       className=\"stPlotlyChart\"\r\n      >\r\n        <Plot\r\n          data={plot_obj.data}\r\n          layout={plot_obj.layout}\r\n          onClick={this.plotlyEventHandler}\r\n        />\r\n      </div>\r\n    )\r\n  }\r\n\r\n  /** Click handler for plot. */\r\n  private plotlyEventHandler = (data: any) => {\r\n    // Build array of points to return\r\n    var clickedPoints: Array<any> = [];\r\n    data.points.forEach(function (arrayItem: any) {\r\n      clickedPoints.push({\r\n        x: arrayItem.x,\r\n        y: arrayItem.y,\r\n        curveNumber: arrayItem.curveNumber,\r\n        pointNumber: arrayItem.pointNumber,\r\n        pointIndex: arrayItem.pointIndex\r\n      })\r\n    });\r\n\r\n    // Return array as JSON to Streamlit\r\n    Streamlit.setComponentValue(JSON.stringify(clickedPoints))\r\n  }\r\n}\r\n\r\nexport default withStreamlitConnection(StreamlitPlotlyEventsComponent)\r\n","import React from \"react\"\r\nimport ReactDOM from \"react-dom\"\r\nimport StreamlitPlotlyEventsComponent from \"./StreamlitPlotlyEventsComponent\"\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <StreamlitPlotlyEventsComponent />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n)\r\n"],"sourceRoot":""}